<!DOCTYPE html>
<html lang = 'en'>
<head>
    <meta charset = "UTF-8">
    <meta http-equiv = "X-UA-Compitable" content = "IE=edge">
    <meta name = "viewport" content = "width=device-width, initial-scale = 1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/golive.css') }}">
    
  
    <title> Go Live </title>
    <link rel="stylesheet" href="golive.css">
</head>
<body>
        <div class="container ">
            <div class="vidsec " >
                <img  id="camera_frame" alt="Video Frames">
            </div>

            <div class="btn_holder">
                <a href="/live">
                    <button class="onMask btn btn-danger btn-lg shadow-lg">refresh</button>
                </a> 
            </div>
        </div>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.min.js"></script>
        <script>
            var socket = io();

        socket.on('connect', function() {
            console.log('Connected to server');
        });
        socket.on('disconnect', function() {
            console.log('Disconnected from server');
        });
        socket.on('new_frame', function(data) {
                var img = document.getElementById('camera_frame');
                img.src = 'data:image/jpeg;base64,' + data.image;
            });
        </script>
       
</body>
</html>